<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medicare - Tout Parcourir</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <link rel="icon" href="Images/Logo_icone.ico" type="image/x-icon">

    <!-- Bibliothèque jQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>

    <!-- Dernier JavaScript compilé -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <style>
        /* Ajout des styles spécifiques au menu déroulant et à l'affichage des CV */
        .doctor {
            border: 1px solid #ccc;
            padding: 1rem;
            margin: 1rem 0;
            background-color: white;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
        }

        .doctor img {
            width: 100px;
            height: 100px;
            object-fit: cover;
            border-radius: 50%;
            margin-right: 1rem;
        }

        .doctor h3 {
            margin-top: 0;
            margin-bottom: 0.5rem;
        }

        .doctor .doctor-info {
            flex-grow: 1;
        }

        .doctor .actions {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .doctor a {
            color: #0073b1;
            text-decoration: none;
            font-weight: bold;
            margin-right: 1rem; /* Ajout d'un espace entre les liens */
        }

        .doctor a:hover {
            text-decoration: underline;
        }

        .cv-container {
            margin-top: 2rem;
            padding: 1rem;
            background-color: #fff;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        nav ul {
            list-style: none;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
        }

        nav ul li {
            margin: 0 1rem;
            position: relative;
        }

        nav ul li a {
            color: white;
            text-decoration: none;
            font-weight: bold;
            padding: 1rem;
            display: block;
        }

        nav ul li a:hover {
            background-color: #004974;
            border-radius: 5px;
        }

        nav ul li ul {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            background-color: #005f8c;
            list-style: none;
            padding: 0;
            margin: 0;
            z-index: 1000;
        }

        nav ul li:hover ul {
            display: block;
        }

        nav ul li ul li {
            margin: 0;
        }

        nav ul li ul li a {
            padding: 0.5rem 1rem;
        }

        .dropdown-submenu {
            position: relative;
        }

        .dropdown-submenu>.dropdown-menu {
            top: 0;
            left: 100%;
            margin-top: -6px;
            margin-left: -1px;
        }

        .dropdown-submenu:hover>.dropdown-menu {
            display: block;
        }
    </style>
</head>
<body>
<header>
    <div class="header-top">
        <img src="Images/Logo_site.png" alt="Logo Medicare" class="logo">
        <h1>Medicare: Services Médicaux</h1>
    </div>
    <nav>
        <ul>
            <li><a href="Accueil_Client.html">Accueil</a></li>
            <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Tout Parcourir</a>
                <ul class="dropdown-menu">
                    <li><a href="#" onclick="showSpecialty('Médecine générale')">Médecins Généralistes</a></li>
                    <li class="dropdown-submenu">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Médecins Spécialistes</a>
                        <ul class="dropdown-menu">
                            <li><a href="#" onclick="showSpecialty('Addictologie')">Addictologie</a></li>
                            <li><a href="#" onclick="showSpecialty('Andrologie')">Andrologie</a></li>
                            <li><a href="#" onclick="showSpecialty('Cardiologie')">Cardiologie</a></li>
                            <li><a href="#" onclick="showSpecialty('Dermatologie')">Dermatologie</a></li>
                            <li><a href="#" onclick="showSpecialty('Gastro-Hépato-Entérologie')">Gastro-Hépato-Entérologie</a></li>
                            <li><a href="#" onclick="showSpecialty('Gynécologie')">Gynécologie</a></li>
                            <li><a href="#" onclick="showSpecialty('I.S.T.')">I.S.T.</a></li>
                            <li><a href="#" onclick="showSpecialty('Ostéopathie')">Ostéopathie</a></li>
                        </ul>
                    </li>
                    <li><a href="#" onclick="showLaboratoire()">Test en Labo</a></li>
                </ul>
            </li>
            <li><a href="search.html">Recherche</a></li>
            <li><a href="appointments.html">Rendez-vous</a></li>
            <li><a href="account.html">Votre Compte</a></li>
        </ul>
    </nav>
</header>

<main class="container">
    <section class="welcome text-center">
        <h1>Bienvenue sur Medicare</h1>
        <p>Votre plateforme de services médicaux en ligne. Prenez rendez-vous avec nos spécialistes de santé, accédez à vos dossiers médicaux et explorez nos services pour une meilleure prise en charge de votre santé.</p>
        <img src="path/to/welcome-image.jpg" alt="Welcome Image" class="img-responsive center-block">
    </section>

    <section class="account-selection text-center">
        <h2>Sélectionnez votre type de compte</h2>
        <div class="row">
            <div class="col-sm-4">
                <a href="client.html">
                    <img src="path/to/client-image.jpg" alt="Client Image" class="img-thumbnail">
                    Client
                </a>
            </div>
            <div class="col-sm-4">
                <a href="medecin.html">
                    <img src="path/to/medecin-image.jpg" alt="Médecin Image" class="img-thumbnail">
                    Médecin ou Personnel de la santé
                </a>
            </div>
            <div class="col-sm-4">
                <a href="admin.html">
                    <img src="path/to/admin-image.jpg" alt="Administrateur Image" class="img-thumbnail">
                    Administrateur
                </a>
            </div>
        </div>
    </section>

    <section>
        <h1>Nos Spécialistes</h1>
        <div id="specialists-container">
            <p>Veuillez sélectionner une spécialité dans le menu "Tout Parcourir".</p>
        </div>
        <div id="cv-container" class="cv-container" style="display: none;">
            <h2>Curriculum Vitae</h2>
            <iframe id="cv-frame" src="" style="width: 100%; height: 600px; border: none;"></iframe>
        </div>
    </section>
</main>

<footer>
    <div class="footer-content text-center">
        <p>Contactez-nous: <a href="mailto:email@medicare.com">email@medicare.com</a> | Tel: +33 1 23 45 67 89 | Adresse: 16 rue Sextius Michel, Paris, France</p>
        <div id="map-container">
            <iframe src="https://maps.google.com/maps?q=16%20rue%20Sextius%20Michel,%20Paris,%20France&t=&z=13&ie=UTF8&iwloc=&output=embed"></iframe>
        </div>
    </div>
</footer>

<script>
    async function fetchDoctors() {
        return [
            { Nom: "Martin", Prenom: "Alice", Email: "alice.martin@example.com", ID_Medecin: 1, CV: "AliceMartin-en-MedecineGenerale.jpg", Photo: "MedecineGeneral2.jpg", Specialite: "Médecine générale" },
            { Nom: "Dupont", Prenom: "Benoit", Email: "benoit.dupont@example.com", ID_Medecin: 2, CV: "BenoitDupont-en-MedecineGenerale.jpg", Photo: "MedecineGeneral.jpg", Specialite: "Médecine générale" },
            { Nom: "Moreau", Prenom: "Clara", Email: "clara.moreau@example.com", ID_Medecin: 3, CV: "ClaraMoreau-en-MedecineGenerale.jpg", Photo: "MedecineGeneral3.jpg", Specialite: "Médecine générale" },
            { Nom: "Leroy", Prenom: "David", Email: "david.leroy@example.com", ID_Medecin: 4, CV: "DavidLeroy-en-MedecineGenerale.jpg", Photo: "MedecineGeneral4.jpg", Specialite: "Médecine générale" },
            { Nom: "Robert", Prenom: "Emma", Email: "emma.robert@example.com", ID_Medecin: 5, CV: "EmmaRobert-en-MedecineGenerale.jpg", Photo: "MedecinFemme.jpg", Specialite: "Médecine générale" },
            { Nom: "Dupont", Prenom: "Jean", Email: "jean.dupont@example.com", ID_Medecin: 6, CV: "Médecin-en-Addictologie.jpg", Photo: "MedecinGastro.jpg", Specialite: "Addictologie" },
            { Nom: "Martin", Prenom: "Pierre", Email: "pierre.martin@example.com", ID_Medecin: 7, CV: "Médecin-en-Andrologie.jpg", Photo: "MedecinAndrologie.jpg", Specialite: "Andrologie" },
            { Nom: "Leblan", Prenom: "Marie", Email: "marie.leblan@example.com", ID_Medecin: 8, CV: "Médecin-en-Cardiologie.jpg", Photo: "MedecinCardiologie.jpg", Specialite: "Cardiologie" },
            { Nom: "Durand", Prenom: "Sophie", Email: "sophie.durand@example.com", ID_Medecin: 9, CV: "Médecin-en-Dermatologie.jpg", Photo: "MedecinDermatologie.jpg", Specialite: "Dermatologie" },
            { Nom: "Petit", Prenom: "Claude", Email: "claude.petit@example.com", ID_Medecin: 10, CV: "Médecin-en-Gastro.jpg", Photo: "MedecinGastro.jpg", Specialite: "Gastro-Hépato-Entérologie" },
            { Nom: "Moreau", Prenom: "Alice", Email: "alice.moreau@example.com", ID_Medecin: 11, CV: "MédecinGynecologie.jpg", Photo: "MedecinGynecologie.jpg", Specialite: "Gynécologie" },
            { Nom: "Lefèvre", Prenom: "Marc", Email: "marc.lefevre@example.com", ID_Medecin: 12, CV: "Médecin-en-IST.jpg", Photo: "MedecinIST.jpg", Specialite: "I.S.T." },
            { Nom: "Bernard", Prenom: "Lucie", Email: "lucie.bernard@example.com", ID_Medecin: 13, CV: "Médecin-en-Osteopathie.jpg", Photo: "MedecinOsteopathie.jpg", Specialite: "Ostéopathie" }
        ];
    }

    async function fetchServices() {
        return [
            { id: 300, nom_service: "Test sanguin complet", description: "Un test sanguin complet pour vérifier les niveaux de globules rouges, globules blancs et plaquettes." },
            { id: 301, nom_service: "Analyse d'urine", description: "Une analyse d'urine pour détecter les infections et d'autres anomalies." },
            { id: 302, nom_service: "Dépistage COVID", description: "Un test de dépistage COVID pour détecter la présence du virus." },
            { id: 303, nom_service: "Dépistage IST", description: "Un dépistage pour les infections sexuellement transmissibles." }
        ];
    }

    async function showSpecialty(specialty) {
        const container = document.getElementById('specialists-container');
        container.innerHTML = ''; // Effacer le contenu précédent

        const title = document.createElement('h2');
        title.textContent = `Spécialistes en ${specialty}`;
        container.appendChild(title);

        const doctors = (await fetchDoctors()).filter(doctor => doctor.Specialite === specialty);

        if (doctors.length > 0) {
            doctors.forEach(doctor => {
                const doctorDiv = document.createElement('div');
                doctorDiv.classList.add('doctor');

                const img = document.createElement('img');
                img.src = `images/${doctor.Photo}`;
                img.alt = `${doctor.Prenom} ${doctor.Nom}`;
                doctorDiv.appendChild(img);

                const infoDiv = document.createElement('div');
                infoDiv.classList.add('doctor-info');

                const name = document.createElement('h3');
                name.textContent = `Dr. ${doctor.Prenom} ${doctor.Nom}`;
                infoDiv.appendChild(name);

                doctorDiv.appendChild(infoDiv);

                const actionsDiv = document.createElement('div');
                actionsDiv.classList.add('actions');

                const viewCvButton = document.createElement('a');
                viewCvButton.href = "#cv-container";
                viewCvButton.textContent = "Voir CV";
                viewCvButton.onclick = function() {
                    document.getElementById('cv-frame').src = `images/${doctor.CV}`;
                    document.getElementById('cv-container').style.display = 'block';
                };
                actionsDiv.appendChild(viewCvButton);

                const appointmentButton = document.createElement('a');
                appointmentButton.href = `appointments.html?doctor=${doctor.Prenom}-${doctor.Nom}`;
                appointmentButton.textContent = "Prendre Rendez-vous";
                actionsDiv.appendChild(appointmentButton);

                const chatButton = document.createElement('a');
                chatButton.href = `chatroom.html?doctor=${doctor.Prenom}-${doctor.Nom}`;
                chatButton.textContent = "Discuter avec le médecin";
                actionsDiv.appendChild(chatButton);

                doctorDiv.appendChild(actionsDiv);
                container.appendChild(doctorDiv);
            });
        } else {
            container.textContent = "Aucun spécialiste trouvé pour cette spécialité.";
        }
    }

    async function showLaboratoire() {
        const container = document.getElementById('specialists-container');
        container.innerHTML = ''; // Effacer le contenu précédent

        const title = document.createElement('h2');
        title.textContent = `Services de Laboratoire`;
        container.appendChild(title);

        const services = await fetchServices();

        if (services.length > 0) {
            services.forEach(service => {
                const serviceDiv = document.createElement('div');
                serviceDiv.classList.add('service');

                const name = document.createElement('h3');
                name.textContent = service.nom_service;
                serviceDiv.appendChild(name);

                const description = document.createElement('p');
                description.textContent = service.description;
                serviceDiv.appendChild(description);

                container.appendChild(serviceDiv);
            });
        } else {
            container.textContent = "Aucun service de laboratoire trouvé.";
        }
    }
</script>
</body>
</html>
